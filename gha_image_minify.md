test

# GitHub Action: 画像最適化ワークフロー

## 概要
PRが作成された際に、差分に含まれる画像ファイル（JPEG、PNG）を検出し、圧縮可能かどうかを判定します。圧縮後のサイズが元のサイズの70%以下になる場合はCIをFailとし、適切な圧縮方法を通知します。

## 詳細要件

### トリガー条件
- PRが作成または更新された時
- 差分（diff）に画像ファイル（JPEG、PNG）が含まれている場合のみ動作

### 対象ファイル
- JPEG形式 (*.jpg, *.jpeg)
- PNG形式 (*.png)

### 処理フロー
1. PRの差分から画像ファイルを抽出
2. ファイル形式に応じた圧縮ツールを使用
   - JPEGの場合: `jpegoptim`
   - PNGの場合: `pngquant`
3. 圧縮前後のファイルサイズを比較
4. 圧縮後のサイズが元のサイズの70%以下になる場合:
   - CIをFailとする
   - PRにコメントで通知
   - 通知内容には、手動でCLIから圧縮する方法を含める

### 通知内容
圧縮可能な画像が検出された場合、以下の情報を含むコメントをPRに追加します:
- 圧縮可能な画像ファイル一覧
- 現在のサイズと圧縮可能なサイズの比較
- ローカル環境で圧縮するためのCLIコマンド例

## 技術的な実装

### 使用ツール
- `jpegoptim`: JPEG圧縮用
- `pngquant`: PNG圧縮用

### 環境要件
- GitHub Actionsのランナー環境に必要なツールをインストールするステップを含める

### 出力例
```
## 画像圧縮の最適化が必要です 🖼️

以下の画像ファイルは、圧縮によって大幅にサイズを削減できます:

| ファイル | 現在のサイズ | 圧縮後のサイズ | 削減率 |
|---------|------------|--------------|-------|
| images/banner.jpg | 1.2MB | 0.5MB | 58% |
| assets/logo.png | 850KB | 320KB | 62% |

### ローカルで圧縮するには:

JPEGファイルの場合:
```bash
jpegoptim --max=80 --strip-all path/to/image.jpg
```

PNGファイルの場合:
```bash
pngquant --quality=65-80 path/to/image.png --output path/to/image-compressed.png
```

最適化された画像を追加してPRを更新してください。
